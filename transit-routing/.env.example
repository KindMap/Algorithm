# KindMap Backend 환경 변수 예제
# 실제 사용 시 .env 파일로 복사하여 값을 수정하세요
# cp .env.example .env

# ========== 애플리케이션 설정 ==========
PROJECT_NAME=KindMap Backend
VERSION=4.0.0
DEBUG=false
PORT=8001

# ========== 데이터베이스 설정 ==========
DB_HOST=your-rds-endpoint.rds.amazonaws.com
DB_PORT=5432
DB_NAME=kindmap_db
DB_USER=postgres
DB_PASSWORD=your-secure-password-change-this

# ========== Redis 설정 ==========
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_MAX_CONNECTIONS=50

# Redis Pub/Sub (WebSocket 수평 확장)
REDIS_PUBSUB_ENABLED=true
REDIS_PUBSUB_CHANNEL=kindmap_events

# ========== 세션 및 캐시 설정 ==========
# 세션 TTL (초): 기본 30분
SESSION_TTL_SECONDS=1800

# 경로 캐시 TTL (초): 기본 14일
ROUTE_CACHE_TTL_SECONDS=1209600

# ========== C++ 엔진 설정 ==========
# C++ 경로 탐색 엔진 사용 여부 (true/false)
# true: PathfindingServiceCPP (고성능, 5~10배 빠름)
# false: PathfindingService (Python 표준)
USE_CPP_ENGINE=false

# ========== 성능 모니터링 설정 ==========
# 성능 모니터링 활성화 (true/false)
ENABLE_PERFORMANCE_MONITORING=true

# 느린 요청 임계값 (밀리초)
# 이 값을 초과하는 요청은 경고로 로깅됩니다
SLOW_REQUEST_THRESHOLD_MS=1000

# 캐시 메트릭 로깅 활성화 (true/false)
ENABLE_CACHE_METRICS=true

# ========== CORS 설정 ==========
# 허용할 Origin 목록 (쉼표로 구분)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://kindmap-for-you.cloud

# ========== JWT 설정 (향후 사용) ==========
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ========== Celery 설정 (백그라운드 작업) ==========
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ========== Whisper STT 설정 (음성 입력) ==========
WHISPER_MODEL_SIZE=medium
WHISPER_MODEL_DIR=./models/whisper
WHISPER_USE_GPU=false
WHISPER_NUM_THREADS=4
WHISPER_MAX_WORKERS=2

# STT 제한
STT_TIMEOUT_SECONDS=30
STT_MAX_AUDIO_SIZE_MB=10

# 음성 입력 기본값
VOICE_AUDIO_FORMAT=webm
VOICE_SAMPLE_RATE=16000

# ========== 기타 설정 ==========
STATION_DATA_PATH=app/data/stations.json

# ========== 환경별 설정 가이드 ==========

# 개발 환경 (.env.development)
# DEBUG=true
# USE_CPP_ENGINE=false
# ENABLE_PERFORMANCE_MONITORING=false
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# 스테이징 환경 (.env.staging)
# DEBUG=false
# USE_CPP_ENGINE=true
# ENABLE_PERFORMANCE_MONITORING=true
# SLOW_REQUEST_THRESHOLD_MS=800

# 프로덕션 환경 (.env.production)
# DEBUG=false
# USE_CPP_ENGINE=true
# ENABLE_PERFORMANCE_MONITORING=true
# SLOW_REQUEST_THRESHOLD_MS=500
# ALLOWED_ORIGINS=https://kindmap-for-you.cloud
